â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
â•‘     ğŸš€ HUB PROSPORTE - GUIA INSTALAÃ‡ÃƒO E USO (Windows)         â•‘
â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•


â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

ğŸ“‹ O QUE FAZER:


1ï¸âƒ£  CLONAR/BAIXAR O REPOSITÃ“RIO

   Se ainda nÃ£o tiver:
   $ git clone https://github.com/seu-repo/prosporte-backend
   $ cd prosporte-backend


2ï¸âƒ£  INSTALAR DEPENDÃŠNCIAS

   $ npm install
   
   Ou se estiver usando o package.json novo:
   $ npm install express cors body-parser axios dotenv morgan


3ï¸âƒ£  INICIAR O SERVIDOR HUB

   OpÃ§Ã£o A (Servidor Principal - implementaÃ§Ã£o anterior):
   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
   â”‚ $ npm start                                          â”‚
   â”‚ ou                                                   â”‚
   â”‚ $ node server.js                                     â”‚
   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

   OpÃ§Ã£o B (Servidor Hub Multi-Banca - NOVO):
   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
   â”‚ $ npm run hub                                        â”‚
   â”‚ ou                                                   â”‚
   â”‚ $ node hub-server.js                                 â”‚
   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

   Esperado:
   â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
   â•‘          ğŸš€ HUB PROSPORTE ATIVO                    â•‘
   â• â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•£
   â•‘                                                    â•‘
   â•‘  ğŸŒ Web:     http://localhost:3000                â•‘
   â•‘  ğŸ“± API:     http://localhost:3000/api/v1/sync   â•‘
   â•‘  âš™ï¸  Admin:   http://localhost:3000/api/admin/... â•‘
   â•‘  â¤ï¸  Health:  http://localhost:3000/health        â•‘
   â•‘                                                    â•‘
   â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•


4ï¸âƒ£  TESTAR O SERVIDOR


   A. Abra no Navegador:
      http://localhost:3000
      
      âœ… Esperado:
      â€¢ Logo do ProSporte (amarelo/ouro)
      â€¢ 3 partidas listadas
      â€¢ Flamengo vs Palmeiras com bolinha verde ğŸŸ¢ piscando
      â€¢ Placar em tempo real


   B. Testar API (em outro Terminal/PowerShell):
      
      # Ver todos os jogos
      $ curl http://localhost:3000/api/v1/sync
      
      # Ver bancas disponÃ­veis
      $ curl http://localhost:3000/api/admin/bancas
      
      # Health check
      $ curl http://localhost:3000/health


â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

ğŸŒ USAR SUBDOMÃNIOS (Opcional)


   Windows (modificar hosts):
   1. Abra: C:\Windows\System32\drivers\etc\hosts
   2. Adicione no final:
      
      127.0.0.1  localhost
      127.0.0.1  flamengo.localhost
      127.0.0.1  palmeiras.localhost

   3. Salve o arquivo


   Depois acesse:
   â€¢ http://localhost:3000                    (Default - Amarelo)
   â€¢ http://flamengo.localhost:3000           (Vermelho)
   â€¢ http://palmeiras.localhost:3000          (Verde)
   
   Cada subdomain tem sua prÃ³pria cor e logo!


â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

ğŸ”§ ENDPOINTS DISPONÃVEIS


   GET / 
   â””â”€ Renderiza pÃ¡gina web dinÃ¢mica com layout ROP
      
   GET /api/v1/sync
   â””â”€ Retorna todos os jogos com o campo "acontecendo_gol"
   â””â”€ Exemplo resposta:
      {
        "status": "success",
        "banca": { "nome": "PROSPORTE", "logo": "...", "cor": "#F0B90B" },
        "jogos": [
          {
            "id": 1,
            "liga": "BRASILEIRÃƒO SÃ‰RIE A",
            "casa": "FLAMENGO",
            "fora": "PALMEIRAS",
            "p_casa": 1,
            "p_fora": 0,
            "status": "42'",
            "acontecendo_gol": true    â† NOVO CAMPO!
          }
        ]
      }

   POST /api/admin/banca
   â””â”€ Criar nova banca
   â””â”€ Body:
      {
        "slug": "flamengo",
        "nome": "FLAMENGO BETS",
        "logo": "https://...",
        "cor": "#FF0000"
      }

   POST /api/admin/jogos
   â””â”€ Atualizar todos os jogos
   â””â”€ Body: { "jogos": [...] }

   POST /api/admin/jogo/:id
   â””â”€ Atualizar jogo especÃ­fico
   â””â”€ Body: { "p_casa": 2, "acontecendo_gol": false, ... }

   GET /api/admin/bancas
   â””â”€ Listar todas as bancas

   GET /health
   â””â”€ Status do servidor


â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

ğŸ“± INTEGRAR COM ANDROID


   No seu React Native:

   ```javascript
   // src/services/api.js
   export const fetchMatches = async () => {
     try {
       const response = await fetch('http://localhost:3000/api/v1/sync');
       const data = await response.json();
       return data.jogos; // Array de jogos com "acontecendo_gol"
     } catch (error) {
       console.error('Erro:', error);
       return [];
     }
   };
   ```

   Na sua lista de jogos:

   ```jsx
   // src/components/MatchCard.jsx
   import React, { useEffect } from 'react';
   import { View, Text, Animated } from 'react-native';

   const MatchCard = ({ match }) => {
     const scaleAnim = new Animated.Value(1);

     useEffect(() => {
       if (match.acontecendo_gol) {
         Animated.loop(
           Animated.sequence([
             Animated.timing(scaleAnim, {
               toValue: 1.3,
               duration: 300,
               useNativeDriver: true,
             }),
             Animated.timing(scaleAnim, {
               toValue: 1,
               duration: 300,
               useNativeDriver: true,
             }),
           ])
         ).start();
       }
     }, [match.acontecendo_gol]);

     return (
       <View style={styles.matchCard}>
         <Text>{match.casa}</Text>
         <View>
           <Text>{match.p_casa} Ã— {match.p_fora}</Text>
           {match.acontecendo_gol && (
             <Animated.View
               style={[
                 styles.golIndicator,
                 { transform: [{ scale: scaleAnim }] },
               ]}
             />
           )}
         </View>
         <Text>{match.fora}</Text>
       </View>
     );
   };
   ```


â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

ğŸ§ª TESTAR COM POSTMAN


   1. Abra Postman
   
   2. Criar uma partida (POST):
      URL: http://localhost:3000/api/admin/jogo/1
      
      JSON Body:
      {
        "p_casa": 3,
        "p_fora": 1,
        "status": "45'",
        "acontecendo_gol": true
      }
      
      Resultado: Jogo atualizado em tempo real na web! ğŸ”„

   3. Ver resultado (GET):
      URL: http://localhost:3000/api/v1/sync
      
      Response terÃ¡ o campo "acontecendo_gol": true


â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

ğŸ“Š ESTRUTURA DE DADOS


   Banca:
   {
     nome: string,
     logo: url,
     cor_primaria: hex_color,
     cor_fundo: hex_color
   }

   Jogo:
   {
     id: number,
     liga: string,
     casa: string,
     fora: string,
     p_casa: number (placar),
     p_fora: number (placar),
     status: string (tempo ou "FINALIZADO"),
     acontecendo_gol: boolean â† NOVO! (true = bolinha verde piscando)
   }


â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

ğŸ¨ CUSTOMIZAÃ‡ÃƒO


   1. Adicionar Nova Banca:
      
      POST http://localhost:3000/api/admin/banca
      
      {
        "slug": "botafogo",
        "nome": "BOTAFOGO BETS",
        "logo": "https://via.placeholder.com/180x50/1e2329/000000?text=BOTAFOGO",
        "cor": "#000000"
      }
      
      Resultado: Acesse http://botafogo.localhost:3000 (apÃ³s add ao hosts)

   2. Atualizar Cores:
      
      Modifique em hub-server.js:
      
      "seu-banca": {
        cor_primaria: "#NOVA_COR",
        cor_fundo: "#NOVA_FUNDO"
      }
      
      Reinicie: npm run hub


â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

âš ï¸  TROUBLESHOOTING


   Problema: "Porta 3000 jÃ¡ estÃ¡ em uso"
   SoluÃ§Ã£o:
   $ netstat -ano | findstr :3000
   $ taskkill /PID <PID> /F
   Ou use outra porta: modificar PORT = 3001 em hub-server.js

   Problema: "MÃ³dulo nÃ£o encontrado (express, cors, ...)"
   SoluÃ§Ã£o:
   $ npm install

   Problema: Bolinha nÃ£o pisca
   SoluÃ§Ã£o:
   â€¢ Verifique se "acontecendo_gol": true no JSON
   â€¢ Limpe cache do navegador (F12 > Network > Disable cache)
   â€¢ Recarregue a pÃ¡gina (Ctrl+Shift+R)

   Problema: Subdomain nÃ£o funciona
   SoluÃ§Ã£o:
   â€¢ Verifique se C:\Windows\System32\drivers\etc\hosts estÃ¡ correto
   â€¢ Reinicie o navegador apÃ³s modificar hosts
   â€¢ Use localhost:3000 como fallback


â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

ğŸ“ RESUMO


   âœ… Servidor Hub criado com suporte a mÃºltiplas bancas
   âœ… Campo "acontecendo_gol" implementado
   âœ… Bolinha verde piscando em tempo real
   âœ… API para Android/Web
   âœ… Painel admin para gerenciar dados
   âœ… SubdomÃ­nios dinÃ¢micos com cores prÃ³prias

   ğŸš€ PrÃ³xima etapa: Deploy em produÃ§Ã£o com Nginx!


â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

VersÃ£o: 1.0 | Data: 2026-01-31 | Status: âœ… PRONTO
